<% if @user %>
  var counter = 120;
      setInterval(function() {
      counter--;
      if (counter >= 0) {
        span = document.getElementById("get_password_resets_code")
        span.innerHTML = counter+"秒后点击重新获取";
        $("#get_password_resets_code").prop("disabled", true);
      }
      if (counter == 0) {
        clearInterval(counter);
        span = document.getElementById("get_password_resets_code")
        span.innerHTML = "获取验证码"
        $("#get_password_resets_code").attr("disabled", false);

      }
    }, 1000);
<% else %>
  document.getElementById('errors').innerHTML="该用户没有注册";
<% end %>